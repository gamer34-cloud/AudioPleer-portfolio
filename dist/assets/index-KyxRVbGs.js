(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();function g(e,t){const{tag:s,id:o,className:n}=C(e),i=t?document.createElementNS(t,s):document.createElement(s);return o&&(i.id=o),n&&(t?i.setAttribute("class",n):i.className=n),i}function C(e){const t=e.split(/([.#])/);let s="",o="";for(let n=1;n<t.length;n+=2)switch(t[n]){case".":s+=` ${t[n+1]}`;break;case"#":o=t[n+1]}return{className:s.trim(),tag:t[0]||"div",id:o}}function p(e,...t){let s;const o=typeof e;if(o==="string")s=g(e);else if(o==="function"){const n=e;s=new n(...t)}else throw new Error("At least one argument required");return y(u(s),t),s}const c=p;p.extend=function(...t){return p.bind(this,...t)};function O(e,t){let s=t;const o=u(e),n=u(s);return s===n&&n.__redom_view&&(s=n.__redom_view),n.parentNode&&(k(s,n,o),o.removeChild(n)),s}function k(e,t,s){const o=t.__redom_lifecycle;if(h(o)){t.__redom_lifecycle={};return}let n=s;for(t.__redom_mounted&&m(t,"onunmount");n;){const i=n.__redom_lifecycle||{};for(const l in o)i[l]&&(i[l]-=o[l]);h(i)&&(n.__redom_lifecycle=null),n=n.parentNode}}function h(e){if(e==null)return!0;for(const t in e)if(e[t])return!1;return!0}const $=["onmount","onremount","onunmount"],q=typeof window<"u"&&"ShadowRoot"in window;function E(e,t,s,o){let n=t;const i=u(e),l=u(n);n===l&&l.__redom_view&&(n=l.__redom_view),n!==l&&(l.__redom_view=n);const r=l.__redom_mounted,f=l.parentNode;if(r&&f!==i&&k(n,l,f),s!=null)if(o){const a=u(s);a.__redom_mounted&&m(a,"onunmount"),i.replaceChild(l,a)}else i.insertBefore(l,u(s));else i.appendChild(l);return I(n,l,i,f),n}function m(e,t){t==="onmount"||t==="onremount"?e.__redom_mounted=!0:t==="onunmount"&&(e.__redom_mounted=!1);const s=e.__redom_lifecycle;if(!s)return;const o=e.__redom_view;let n=0;o?.[t]?.();for(const i in s)i&&n++;if(n){let i=e.firstChild;for(;i;){const l=i.nextSibling;m(i,t),i=l}}}function I(e,t,s,o){t.__redom_lifecycle||(t.__redom_lifecycle={});const n=t.__redom_lifecycle,i=s===o;let l=!1;for(const a of $)i||e!==t&&a in e&&(n[a]=(n[a]||0)+1),n[a]&&(l=!0);if(!l){t.__redom_lifecycle={};return}let r=s,f=!1;for((i||r?.__redom_mounted)&&(m(t,i?"onremount":"onmount"),f=!0);r;){const a=r.parentNode;r.__redom_lifecycle||(r.__redom_lifecycle={});const _=r.__redom_lifecycle;for(const b in n)_[b]=(_[b]||0)+n[b];if(f)break;(r.nodeType===Node.DOCUMENT_NODE||q&&r instanceof ShadowRoot||a?.__redom_mounted)&&(m(r,i?"onremount":"onmount"),f=!0),r=a}}function V(e,t,s){const o=u(e);if(typeof t=="object")for(const n in t)w(o,n,t[n]);else w(o,t,s)}function w(e,t,s){e.style[t]=s??""}const v="http://www.w3.org/1999/xlink";function x(e,t,s,o){const n=u(e);if(typeof t=="object")for(const l in t)x(n,l,t[l]);else{const l=n instanceof SVGElement,r=typeof s=="function";if(t==="style"&&typeof s=="object")V(n,s);else if(l&&r)n[t]=s;else if(t==="dataset")N(n,s);else if(!l&&(t in n||r)&&t!=="list")n[t]=s;else{if(l&&t==="xlink"){S(n,s);return}if(t==="class"){M(n,s);return}s==null?n.removeAttribute(t):n.setAttribute(t,s)}}}function M(e,t){t==null?e.removeAttribute("class"):e.classList?e.classList.add(t):typeof e.className=="object"&&e.className&&e.className.baseVal?e.className.baseVal=`${e.className.baseVal} ${t}`.trim():e.className=`${e.className} ${t}`.trim()}function S(e,t,s){if(typeof t=="object")for(const o in t)S(e,o,t[o]);else s!=null?e.setAttributeNS(v,t,s):e.removeAttributeNS(v,t,s)}function N(e,t,s){if(typeof t=="object")for(const o in t)N(e,o,t[o]);else s!=null?e.dataset[t]=s:delete e.dataset[t]}function P(e){return document.createTextNode(e??"")}function y(e,t,s){for(const o of t){if(o!==0&&!o)continue;const n=typeof o;n==="function"?o(e):n==="string"||n==="number"?e.appendChild(P(o)):A(u(o))?E(e,o):o.length?y(e,o):n==="object"&&x(e,o,null)}}function u(e){return e.nodeType&&e||!e.el&&e||u(e.el)}function A(e){return e?.nodeType}function T(e,...t){const s=u(e);let o=L(e,t,s.firstChild);for(;o;){const n=o.nextSibling;O(e,o),o=n}}function L(e,t,s){let o=s;const n=Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[i]&&u(t[i]);for(let i=0;i<t.length;i++){const l=t[i];if(!l)continue;const r=n[i];if(r===o){o=o.nextSibling;continue}if(A(r)){const f=o?.nextSibling,_=l.__redom_index!=null&&f===n[i+1];E(e,l,o,_),_&&(o=f);continue}l.length!=null&&(o=L(e,l,o))}return o}const j="http://www.w3.org/2000/svg";function d(e,...t){let s;const o=typeof e;if(o==="string")s=g(e,j);else if(o==="function"){const n=e;s=new n(...t)}else throw new Error("At least one argument required");return y(u(s),t),s}d.extend=function(...t){return d.bind(this,...t)};d.ns=j;function H(){document.querySelectorAll(".like").forEach(t=>{t.addEventListener("click",function(s){t.classList.toggle("liked")})})}function B(){const e=document.querySelectorAll(".aside__button");e.forEach(t=>{t.addEventListener("click",function(s){for(let o=0;o<e.length;o++)e[o].classList.remove("is-active");t.classList.toggle("is-active")})})}function D(){document.querySelector(".hero__header-button").addEventListener("click",function(t){const s=c("div",{class:"overlay"}),o=c("div",{class:"modal-window"},[c("button",{class:"modal-window__close",ariaLabel:"Кнопка закрытия модального окна",onclick:n},"Закрыть"),c("div",{class:"modal-window__buttons"},[c("a",{class:"modal-window__button",href:"./enter.html"},"Войти"),c("a",{class:"modal-window__button-sign",href:"./registration.html"},"Зарегестрироваться")])]);function n(){s.style.display="none",o.style.display="none"}document.querySelector(".main")?.append(s,o)})}function F(){const e=document.querySelectorAll(".table__option"),t=document.querySelectorAll(".option-card");e.forEach((s,o)=>{s.addEventListener("click",function(n){t[o].classList.toggle("option-card--active")})})}function R(){const e=localStorage.getItem("username"),t=document.querySelector(".hero__header-text");e?t.textContent=e:t.textContent="user"}async function G(e){const t=localStorage.getItem("autarisation-token");e.innerHTML="";const o=await(await fetch("http://localhost:8000/api/tracks",{headers:{Authorization:`${t}`}})).json();let n=0;const i=c("table",{id:"table"},[o.map(l=>{if(n++,n<=6)return c("tr",[c("td",l.id),c("td",[c("div",{class:"table__artist"},[c("button",{class:"table__artist-button"},[c("img",{class:"table__artist-img",src:"./images/img-oblojca.jpg",alt:"Обложка группы Нирваны"}),d("svg",{class:"table__artist-svg",src:"./images/img-oblojca.jpg",alt:"Обложка группы Нирваны"},[d("use",{href:"./images/sprite.svg#icon-play-button"})])]),c("div",{class:"table__artist-content"},[c("span",{class:"table__artist-album"},l.title),c("span",{class:"table__artist-song"},l.artist)])])]),c("td",[c("span",{class:"table__album"},l.artist)]),c("td",[c("div",{class:"table__date"},[c("span",{class:"table__date-text"},`${l.id} дней назад`),c("button",{className:["table__date-like"],class:["like"],ariaLabel:"Кнопка добавить в избранное",type:"button"},[d("svg",{class:"table__icon"},[d("use",{href:"/images/sprite.svg#icon-like"})])])])]),c("td",[c("div",{class:"table__last"},[c("div",{class:"option-card"},[c("button",{class:"option-card__button"},"Удалить")]),c("span",{class:"table__time"},l.duration),c("button",{class:"table__option",ariaLabel:"Кнопка с опциями"},[d("svg",{class:["table__icon--option"],xmlns:"http://www.w3.org/2000/svg"},[d("use",{href:"/images/sprite.svg#icon-option"})])])])])])})]);T(e,[i]),R()}window.onload=function(){let e=document.getElementById("table");G(e),setTimeout(()=>H(),50),B(),D(),setTimeout(()=>F(),50)};
